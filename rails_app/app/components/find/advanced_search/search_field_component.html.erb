<%= fields_for('clause[]', @index, include_id: false) do |f| %>
  <%= content_tag(:div, class: 'form-group advanced-search-field row mb-3') do %>
    <%= f.label(:query, @field.display_label('search'), class: 'col-sm-3 col-form-label text-md-right') %>
    <% if @field.range %>
      <%= render(Find::AdvancedSearch::RangeControlComponent.new(field: @field,
                                                                 query: query_for_search_clause(@field.key),
                                                                 index: @index)) %>
    <% else %>
      <%= content_tag(:div, class: 'col-sm-9') do %>
        <%= f.hidden_field(:field, value: @field.key) %>
        <%= f.text_field(:query, value: query_for_search_clause(@field.key), class: 'form-control') %>
      <% end %>
    <% end %>
  <% end %>
<% end %>